name: "Build SDK"
on:
  workflow_dispatch:

jobs:

  example_matrix:
    strategy:
      fail-fast: false
      matrix:
        board: [uefi-x86,uefi-arm64]
        os: ["bullseye","jammy"]
        
    name: "Build generic Armbian X86 SDK"
    runs-on: ubuntu-latest
    steps:

      - name: "Build generic Armbian X86 SDK"
        #uses: armbian/build@AR-1459
        uses: igorpecovnik/build@main
        with:
          armbian_token:              "${{ secrets.GITHUB_TOKEN }}"      # token
          armbian_target:             "armbian-images"                   # repace with `kernel` if you only want to build artifacts
          armbian_kernel_branch:      "current"                          # branch: legacy, current, edge, etc.
          armbian_branch:             "main"                             # build framework branch
          armbian_release:            "${{ matrix.os }}"                 # userspace: jammy, bookworm, trixie, etc.
          armbian_ui:                 "minimal"                          # minimal, server, xfce, gnome, etc.
          armbian_compress:           "sha,img,xz"                       # compression method: sha,img,xz
          armbian_version:            "99.99.1"                          # version override
          armbian_extensions:         "docker-ce"                        # list extensions
          armbian_board:              "uefi-x86"                         # build target from https://github.com/armbian/build/tree/main/config/boards
